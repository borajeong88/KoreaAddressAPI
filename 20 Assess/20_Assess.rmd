---
title: "20 Assess"
output: html_document
---

```{r}
# install.packages('devtools')
#install.packages("remotes")
#remotes::install_github("hadley/devtools") # for macOS
#install.packages("devtools")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#install_github("plgrmr/readAny", force = TRUE)
options(encoding = 'UTF-8')
#setwd("~/KoreaAddressAPI/")
#getwd()
#source(file.path(getwd(), "01 common", "init.R"))
```

```{r libraries, include=FALSE}
library(dplyr)
```

# 주소 데이터 불러오기

```{r}
df= read.table("../data/JiBeon_Korea.csv",sep=",", stringsAsFactors=FALSE, 
               comment.char="", colClasses="character", header=1)
head(df)
```

```{r}
df
```

### 모든 컬럼의 타입을 chraracter로 변경하기
```{r }
df$BeopJeongDongKoDeu = as.character(df$BeopJeongDongKoDeu) # 법정동코드 10자리 , 앞 두자리는 시도, 3~5자리는 구
df$SiDoMyeong = as.character(df$SiDoMyeong) #시, 도
df$SiGunGuMyeong = as.character(df$SiGunGuMyeong) #구
df$BeopJeongEupMyeonDongMyeong = as.character(df$BeopJeongEupMyeonDongMyeong) #동

df$JiBeonBonBeon.BeonJi = as.character(df$JiBeonBonBeon.BeonJi) #지번본번
df$JiBeonBuBeon.Ho = as.character(df$JiBeonBuBeon.Ho) #지번부번

head(df)
```

## 코드,시,군,동만 분리하여 데이터 프레임 생성

```{r}
columns = c('BeopJeongDongKoDeu', 'SiDoMyeong', 'SiGunGuMyeong',
            'BeopJeongEupMyeonDongMyeong')
df2 <- data.frame(df$BeopJeongDongKoDeu,df$SiDoMyeong,df$SiGunGuMyeong,df$BeopJeongEupMyeonDongMyeong)
head(df2)
```

```{r}
df2[,"BeopJeongDongKoDeu_si"] = substr(df2$df.BeopJeongDongKoDeu,1,2) # 법정동 코드에서 시 분리
df2[,"BeopJeongDongKoDeu_gu"] = substr(df2$df.BeopJeongDongKoDeu,3,5) # 법정동 코드에서 구 분리
df2
```


```{r}
unique(df2$BeopJeongDongKoDeu_si)
```


```{r}
unique(df2$BeopJeongDongKoDeu_gu)
```
