---
title: "Untitled"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r libraries, include=FALSE}
library(dplyr)
```

# 주소 데이터 불러오기

```{r }
pathPrefix = '../juso.go.kr/202004_주소DB_전체분/Seoul/'
# pathPostFix = '_서울특별시_UTF-8.txt'
pathPostFix = '_서울특별시_UTF-8_0_32000.txt'

pathJibun = paste0(pathPrefix, '지번', pathPostFix)
pathJibun

df = read.csv(pathJibun, header = FALSE, sep = '|', fileEncoding = 'UTF-8')
head(df)
```

# 모든 컬럼의 타입을 chraracter로 변경하기

주소에 사용된느 데이터 타입은 

```{r }
df$V4 = as.character(df$V4) #시
df$V5 = as.character(df$V5) #구
df$V6 = as.character(df$V6) #동

df$V9 = as.character(df$V9) #지번본번
df$V10 = as.character(df$V10) #지번부번

head(df)
```

## 시

```{r}
sido = unique(df$V4)
sido
sido[1]

df %>%
  filter(V4 == sido[1]) -> df_sido1

head(df_sido1)
```

## 구

```{r}
gu = unique(df_sido1$V5)
  
gu
```

## 동

```{r}
df %>%
  filter(V4 == sido[1]) %>% 
  filter(V5 == gu[1]) -> df_dong

dongs = unique(df_dong$V6)

dongs
```

## 번지

```{r}

df$BunJi = paste0(df$V9, '-', df$V10)

df %>%
  filter(V4 == sido[1]) %>% 
  filter(V5 == gu[1]) %>% 
  filter(V6 == dongs[1]) -> df_bunji

BunJi = unique(df_bunji$BunJi)
BunJi

```